[{"C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\index.js":"1","C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\App.js":"2","C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\reportWebVitals.js":"3","C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\searchPhotos.js":"4","C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\MosaicPictures.js":"5","C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\index.js":"6","C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\reportWebVitals.js":"7","C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\App.js":"8","C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\searchPhotos.js":"9","C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\MosaicPictures.js":"10"},{"size":478,"mtime":1609184785804,"results":"11","hashOfConfig":"12"},{"size":281,"mtime":1609186326250,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":499162500000,"results":"14","hashOfConfig":"12"},{"size":2695,"mtime":1609325340584,"results":"15","hashOfConfig":"12"},{"size":822,"mtime":1609254665008,"results":"16","hashOfConfig":"12"},{"size":1124,"mtime":1639394409469,"results":"17","hashOfConfig":"18"},{"size":362,"mtime":1639393820393,"results":"19","hashOfConfig":"18"},{"size":281,"mtime":1639393820390,"results":"20","hashOfConfig":"18"},{"size":2695,"mtime":1639393820393,"results":"21","hashOfConfig":"18"},{"size":822,"mtime":1639393820391,"results":"22","hashOfConfig":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},"1tntbc6",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"17f0nsp",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\index.js",[],["46","47"],"C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\App.js",[],"C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\reportWebVitals.js",[],"C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\searchPhotos.js",["48","49"],"C:\\Users\\Reda\\Documents\\Repos\\NodeJs\\photosearch_js\\photo-search-rjs\\src\\MosaicPictures.js",[],"C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\index.js",["50"],"C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\reportWebVitals.js",[],["51","52"],"C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\App.js",[],"C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\searchPhotos.js",["53","54"],"import React, { useState } from \"react\";\r\nimport { createApi } from \"unsplash-js\";\r\nimport MosaicPictures from \"./MosaicPictures\";\r\nimport debounce from 'lodash.debounce';\r\n\r\nconst unsplash = createApi({\r\n    accessKey: \"GkLAml1cOQNewkDCqzLlB7LEW1fvx4cw5_skYgyHKsk\",\r\n\r\n})\r\n\r\nexport default function SearchPhotos() {\r\n    const [query, setQuery] = useState(\"\");\r\n    const [pics, setPics] = useState([]);\r\n    const [picsPage, setPicsPage] = useState(1);\r\n    const [error, setError] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [hasMore, setHasMore] = useState(true);\r\n    const [loadMore, setLoadMore] = useState(true);\r\n\r\n    window.onscroll = debounce(() => {\r\n        if(error || isLoading || !hasMore || !loadMore) return;\r\n\r\n        if(window.innerHeight + document.documentElement.scrollTop >= document.documentElement.offsetHeight - 10) {\r\n            searchPhotos();\r\n        }\r\n    }, 400)\r\n \r\n    const searchPhotos = async (e) => {\r\n        if (e) {\r\n            e.preventDefault();\r\n        }\r\n        unsplash.search.getPhotos({ query: query, page: picsPage })\r\n            .then((result) => {\r\n                if (result.type === 'success') {\r\n                    if(result.response.results < 10){\r\n                        setPics(prevState => (prevState.concat(result.response.results)));\r\n                        setHasMore(false);\r\n                    }\r\n                    setPics(prevState => (prevState.concat(result.response.results)));\r\n                    setPicsPage(prevState => prevState + 1);\r\n                }\r\n                else{\r\n                    setError(true);\r\n                }\r\n            });\r\n    }\r\n\r\n    const onSubmitForm = async (e) => {\r\n        e.preventDefault();\r\n        setPicsPage(1);\r\n        setPics([]);\r\n        searchPhotos();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form className=\"form\" onSubmit={onSubmitForm}>\r\n                <label className=\"label\" htmlFor=\"query\">\r\n                    {\" \"}\r\n                    ðŸ“·\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"query\"\r\n                    className=\"input\"\r\n                    placeholder={`Try \"dog\" or \"apple\"`}\r\n                    value={query}\r\n                    onChange={(e) => {\r\n                        setQuery(e.target.value);\r\n                    }}\r\n                />\r\n                <button type=\"submit\" className=\"button\">\r\n                    Search\r\n                </button>\r\n            </form>\r\n            <div className=\"card-list\">\r\n                <MosaicPictures pictures={pics} />  \r\n            </div>\r\n        </>\r\n    );\r\n}","C:\\Users\\Reda\\Desktop\\test\\search-photos-rjs\\src\\MosaicPictures.js",[],{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":16,"column":23,"nodeType":"61","messageId":"62","endLine":16,"endColumn":35},{"ruleId":"59","severity":1,"message":"63","line":18,"column":22,"nodeType":"61","messageId":"62","endLine":18,"endColumn":33},{"ruleId":"59","severity":1,"message":"64","line":22,"column":7,"nodeType":"61","messageId":"62","endLine":22,"endColumn":10},{"ruleId":"55","replacedBy":"65"},{"ruleId":"57","replacedBy":"66"},{"ruleId":"59","severity":1,"message":"60","line":16,"column":23,"nodeType":"61","messageId":"62","endLine":16,"endColumn":35},{"ruleId":"59","severity":1,"message":"63","line":18,"column":22,"nodeType":"61","messageId":"62","endLine":18,"endColumn":33},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"no-unused-vars","'setIsLoading' is assigned a value but never used.","Identifier","unusedVar","'setLoadMore' is assigned a value but never used.","'app' is assigned a value but never used.",["67"],["68"],"no-global-assign","no-unsafe-negation"]